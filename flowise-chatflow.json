{
  "name": "Modern Chat Widget - Ø¥ÙŠØ¬ÙŠ Ø£ÙØ±ÙŠÙƒØ§",
  "description": "Ù†Ø¸Ø§Ù… Ø¯Ø±Ø¯Ø´Ø© Ù‡Ø¬ÙŠÙ† ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Simple Intent Detection ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
  "nodes": [
    {
      "id": "1",
      "name": "Chat Widget",
      "type": "chatWidget",
      "position": {
        "x": 100,
        "y": 100
      },
      "data": {
        "widgetConfig": {
          "name": "Ø¥ÙŠØ¬ÙŠ Ø£ÙØ±ÙŠÙƒØ§",
          "description": "Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù„Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
          "theme": "light",
          "primaryColor": "#3B82F6",
          "secondaryColor": "#8B5CF6",
          "placeholder": "Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...",
          "welcomeMessage": "Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙŠÙƒ! ğŸ‘‹ Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯ Ø¥ÙŠØ¬ÙŠ Ø£ÙØ±ÙŠÙƒØ§ Ø§Ù„Ø°ÙƒÙŠ. Ø£Ù‚Ø¯Ø± Ø£Ø³Ø§Ø¹Ø¯Ùƒ ÙÙŠ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ. ØªØ­Ø¨ Ù†Ø¨Ø¯Ø£ Ø¨Ø¥ÙŠÙ‡ØŸ",
          "position": "bottom-right",
          "size": "medium",
          "showBranding": false,
          "showTypingIndicator": true,
          "showReadMore": true,
          "showScrollToBottom": true,
          "showFileUpload": false,
          "showVoiceInput": false,
          "showEmojiPicker": true,
          "showQuickReplies": true,
          "quickReplies": [
            "Ø£Ù‡Ù„Ø§Ù‹",
            "Ø§Ù„Ø®Ø¯Ù…Ø§Øª",
            "Ø§Ù„Ø£Ø³Ø¹Ø§Ø±",
            "Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†",
            "Ø§ØªØµÙ„ Ø¨Ù†Ø§"
          ]
        }
      }
    },
    {
      "id": "2",
      "name": "Simple Intent Detection",
      "type": "function",
      "position": {
        "x": 400,
        "y": 100
      },
      "data": {
        "function": `
// Simple Intent Detection for Arabic
const detectIntent = (message) => {
  const normalizedMessage = message.toLowerCase().trim();
  
  // Greeting patterns
  if (['Ø£Ù‡Ù„Ø§Ù‹', 'Ø£Ù‡Ù„Ø§', 'Ù…Ø±Ø­Ø¨Ø§', 'Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…', 'Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…'].some(pattern => 
    normalizedMessage.includes(pattern))) {
    return {
      intent: 'greet',
      confidence: 0.95,
      response: 'Ø£Ù‡Ù„Ø§Ù‹ ÙˆØ³Ù‡Ù„Ø§Ù‹! ğŸ‘‹ ÙƒÙŠÙ Ø£Ù‚Ø¯Ø± Ø£Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŸ',
      shouldUseLangChain: false
    };
  }
  
  // Service inquiry patterns
  if (['Ø§Ù„Ø®Ø¯Ù…Ø§Øª', 'Ø§Ù„Ø®Ø¯Ù…Ø©', 'Ø®Ø¯Ù…Ø§Øª', 'Ø¥ÙŠÙ‡ Ø§Ù„Ø®Ø¯Ù…Ø§Øª', 'Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø®Ø¯Ù…Ø§Øª'].some(pattern => 
    normalizedMessage.includes(pattern))) {
    return {
      intent: 'service_inquiry',
      confidence: 0.9,
      response: 'Ø®Ø¯Ù…Ø§ØªÙ†Ø§ Ù…ØªØ¹Ø¯Ø¯Ø©! ğŸ› ï¸ ØªØ³ÙˆÙŠÙ‚ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØŒ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠØŒ ØªØ·ÙˆÙŠØ± Ù…ÙˆØ§Ù‚Ø¹ØŒ ØªØµÙ…ÙŠÙ… Ø¬Ø±Ø§ÙÙŠÙƒ. Ø¥ÙŠÙ‡ Ø§Ù„Ù„ÙŠ ÙŠØ¹Ø¬Ø¨ÙƒØŸ',
      shouldUseLangChain: false
    };
  }
  
  // Pricing inquiry patterns
  if (['Ø§Ù„Ø£Ø³Ø¹Ø§Ø±', 'Ø§Ù„Ø³Ø¹Ø±', 'Ø¨ÙƒÙ…', 'Ø¨ÙƒØ§Ù…', 'Ø§Ù„ØªÙƒÙ„ÙØ©'].some(pattern => 
    normalizedMessage.includes(pattern))) {
    return {
      intent: 'pricing_inquiry',
      confidence: 0.9,
      response: 'Ø£Ø³Ø¹Ø§Ø±Ù†Ø§ ØªÙ†Ø§ÙØ³ÙŠØ© Ø¬Ø¯Ø§Ù‹! ğŸ’° ØªØ­Ø¨ ØªØ´ÙˆÙ Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„ÙŠÙƒØŸ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø§Ø®ØªÙŠØ§Ø± Ø£ÙØ¶Ù„ Ø®Ø·Ø©.',
      shouldUseLangChain: false
    };
  }
  
  // Booking patterns
  if (['Ø§Ø­Ø¬Ø²', 'Ø­Ø¬Ø²', 'Ù…ÙˆØ¹Ø¯', 'Ø§Ø³ØªØ´Ø§Ø±Ø©', 'Ø¬Ù„Ø³Ø©'].some(pattern => 
    normalizedMessage.includes(pattern))) {
    return {
      intent: 'booking_request',
      confidence: 0.95,
      response: 'Ù…Ù…ØªØ§Ø²! ğŸ¯ Ø£Ù‚Ø¯Ø± Ø£Ø³Ø§Ø¹Ø¯Ùƒ ÙÙŠ Ø§Ù„Ø­Ø¬Ø². Ù…ØªÙ‰ ØªØ­Ø¨ Ø§Ù„Ù…ÙˆØ¹Ø¯ØŸ ÙˆØ£ÙŠ Ø®Ø¯Ù…Ø© ØªØ±ÙŠØ¯ØŸ',
      shouldUseLangChain: false
    };
  }
  
  // Thanks patterns
  if (['Ø´ÙƒØ±Ø§', 'Ø´ÙƒØ±Ø§Ù‹', 'Ù…Ø´ÙƒÙˆØ±', 'Ù…ØªØ´ÙƒØ±'].some(pattern => 
    normalizedMessage.includes(pattern))) {
    return {
      intent: 'thanks',
      confidence: 0.9,
      response: 'Ø§Ù„Ø¹ÙÙˆ! ğŸ˜Š Ø³Ø¹ÙŠØ¯ Ø¥Ù†Ù†ÙŠ Ù‚Ø¯Ø±Øª Ø£Ø³Ø§Ø¹Ø¯Ùƒ. Ù‡Ù„ Ø¹Ù†Ø¯Ùƒ Ø£Ø³Ø¦Ù„Ø© ØªØ§Ù†ÙŠØ©ØŸ',
      shouldUseLangChain: false
    };
  }
  
  // Complex questions - use LangChain
  if (normalizedMessage.length > 50 || normalizedMessage.includes('ÙƒÙŠÙ') || normalizedMessage.includes('Ù…Ø§ Ù‡ÙŠ')) {
    return {
      intent: 'complex_question',
      confidence: 0.7,
      response: 'Ù‡Ø°Ø§ Ø³Ø¤Ø§Ù„ Ù…Ù…ØªØ§Ø²! ğŸ§  Ø¯Ø¹Ù†ÙŠ Ø£Ø¨Ø­Ø« Ù„Ùƒ Ø¹Ù† Ø¥Ø¬Ø§Ø¨Ø© Ù…ÙØµÙ„Ø©...',
      shouldUseLangChain: true
    };
  }
  
  // Default fallback
  return {
    intent: 'unknown',
    confidence: 0.5,
    response: 'Ø£ÙÙ‡Ù… Ø¥Ù† Ø³Ø¤Ø§Ù„Ùƒ Ù…Ù‡Ù…! ğŸ¤” Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¹Ø§Ø¯Ø© ØµÙŠØ§ØºØªÙ‡ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø£ÙˆØ¶Ø­ØŸ',
    shouldUseLangChain: true
  };
};

// Process the message
const result = detectIntent($input);
return {
  intent: result.intent,
  confidence: result.confidence,
  response: result.response,
  shouldUseLangChain: result.shouldUseLangChain,
  message: $input
};
        `
      }
    },
    {
      "id": "3",
      "name": "LangChain Response",
      "type": "llmChain",
      "position": {
        "x": 700,
        "y": 100
      },
      "data": {
        "model": "gpt-3.5-turbo",
        "temperature": 0.7,
        "maxTokens": 500,
        "systemPrompt": `Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ø¥ÙŠØ¬ÙŠ Ø£ÙØ±ÙŠÙƒØ§ Ø§Ù„Ø°ÙƒÙŠØŒ Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ.

Ù…Ù‡Ù…ØªÙƒ:
1. Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ø§Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
2. ØªÙ‚Ø¯ÙŠÙ… Ù†ØµØ§Ø¦Ø­ Ø¹Ù…Ù„ÙŠØ© ÙˆÙ…ÙÙŠØ¯Ø©
3. Ø´Ø±Ø­ Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø³ÙŠØ·Ø©
4. Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙÙŠ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©

Ø£Ø³Ù„ÙˆØ¨Ùƒ:
- ÙˆØ¯ÙˆØ¯ ÙˆÙ…Ù‡Ù†ÙŠ
- Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„Ø¹Ø±Ø¨ÙŠØ©
- Ø¥Ø¬Ø§Ø¨Ø§Øª Ù…ÙØµÙ„Ø© ÙˆÙ…ÙÙŠØ¯Ø©
- Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©

ØªØ°ÙƒØ±: Ø£Ù†Øª Ù…ØªØ®ØµØµ ÙÙŠ Ù…Ø¬Ø§Ù„ Ø¥ÙŠØ¬ÙŠ Ø£ÙØ±ÙŠÙƒØ§ØŒ Ù‚Ø¯Ù… Ø¥Ø¬Ø§Ø¨Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø© ÙˆÙ…ÙÙŠØ¯Ø©.`
      }
    },
    {
      "id": "4",
      "name": "Response Router",
      "type": "switch",
      "position": {
        "x": 550,
        "y": 250
      },
      "data": {
        "condition": "shouldUseLangChain === true"
      }
    },
    {
      "id": "5",
      "name": "Simple Response",
      "type": "textOutput",
      "position": {
        "x": 400,
        "y": 400
      },
      "data": {
        "text": "{{response}}"
      }
    },
    {
      "id": "6",
      "name": "Complex Response",
      "type": "textOutput",
      "position": {
        "x": 700,
        "y": 400
      },
      "data": {
        "text": "{{llmResponse}}"
      }
    }
  ],
  "edges": [
    {
      "source": "1",
      "target": "2"
    },
    {
      "source": "2",
      "target": "4"
    },
    {
      "source": "4",
      "target": "5",
      "condition": "false"
    },
    {
      "source": "4",
      "target": "3",
      "condition": "true"
    },
    {
      "source": "3",
      "target": "6"
    }
  ]
}
