# ๐ Simple Intent Detection + LangChain

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุฐูู ุจุณูุท ูุฌูุน ุจูู **Pattern Matching** ููุดู ุงูููุงูุง ู **LangChain** ููุฃุณุฆูุฉ ุงููุนูุฏุฉ.

## โจ ุงูููุฒุงุช

- ๐ง **Simple Intent Detection**: ูุดู ุงูููุงูุง ุนุจุฑ ุฃููุงุท ุจุณูุทุฉ
- ๐ **Smart Routing**: ุงุฎุชูุงุฑ ุจูู ุงูุฑุฏ ุงููุจุงุดุฑ ู LangChain
- ๐ฑ **Multi-Platform**: ุฏุนู Website ู WhatsApp ู Messenger
- ๐ **Secure**: ุญูุงูุฉ ุดุงููุฉ ูููุฏุฎูุงุช

## ๐๏ธ ุงูุจููุฉ

```
src/lib/
โโโ simple-intent-detector.ts  # Intent Detection Engine
โโโ chat-api.ts               # Chat Processing
โโโ webhook-verification.ts   # Security
```

## ๐ ุงูุชุดุบูู

### 1. ุชุซุจูุช Dependencies
```bash
npm install
```

### 2. ุชุดุบูู Redis
```bash
docker-compose up redis -d
```

### 3. ุชุดุบูู ุงูุชุทุจูู
```bash
npm run dev
```

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ Intent Detection
```bash
# ุชุญูุฉ
curl -X POST http://localhost:3000/api/rasa/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ูุฑุญุจุง"}'

# ุญุฌุฒ
curl -X POST http://localhost:3000/api/rasa/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ุนุงูุฒ ุฃุญุฌุฒ ุฎุฏูุฉ"}'

# ุณุคุงู ูุนูุฏ
curl -X POST http://localhost:3000/api/rasa/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ููู ุชุนูู ุชูููุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนูุ"}'
```

## ๐ง ููููุฉ ุงูุนูู

### 1. **Intent Detection**
- ูุญุต ุงูุฑุณุงูุฉ ููุงุจู ุฃููุงุท ูุนุฑููุฉ
- ูุดู ุงูููุงูุง (ุชุญูุฉุ ุญุฌุฒุ ุฃุณุนุงุฑุ ุฏุนู)
- ุงุณุชุฎุฑุงุฌ ุงูููุงูุงุช (ููุน ุงูุฎุฏูุฉุ ุงูุฃููููุฉ)

### 2. **Smart Routing**
- **ุฑุฏ ูุจุงุดุฑ**: ููุฑุณุงุฆู ุงูุจุณูุทุฉ
- **LangChain**: ููุฃุณุฆูุฉ ุงููุนูุฏุฉ

### 3. **Entity Extraction**
- ููุน ุงูุฎุฏูุฉ (ูุงุณูุฌุฑุ ูุงุชุณุงุจุ ุชุณููู)
- ูุณุชูู ุงูุฃููููุฉ (ุนุงุฌูุ ุนุงุฏู)
- ุงููููุน (ูุตุฑุ ุงูุณุนูุฏูุฉุ ุงูุฎููุฌ)

## ๐ฑ ุงูููุตุงุช ุงููุฏุนููุฉ

| ุงูููุตุฉ | ุงูุญุงูุฉ | Endpoint |
|--------|--------|----------|
| Website | โ | `/api/rasa/chat` |
| WhatsApp | โ | `/api/rasa/webhook` |
| Messenger | โ | `/api/rasa/webhook` |

## ๐ง ุงูุชูููู

```env
# Redis
REDIS_HOST=localhost
REDIS_PORT=6379

# WhatsApp/Facebook (ุงุฎุชูุงุฑู)
WHATSAPP_ACCESS_TOKEN=your_token
FACEBOOK_PAGE_ACCESS_TOKEN=your_token
```

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ุฑุณุงูุฉ ุจุณูุทุฉ (ุฑุฏ ูุจุงุดุฑ)
```
ุงููุณุชุฎุฏู: "ูุฑุญุจุง"
ุงููุธุงู: "ุฃููุงู ูุณููุงู! ููู ุฃูุฏุฑ ุฃุณุงุนุฏู ุงููููุ ๐"
ุงูููุฉ: greet (ุซูุฉ: 90%)
```

### ุฑุณุงูุฉ ุญุฑุฌุฉ (ุฑุฏ ูุจุงุดุฑ)
```
ุงููุณุชุฎุฏู: "ุนุงูุฒ ุฃุญุฌุฒ ุฎุฏูุฉ"
ุงููุธุงู: "ููุชุงุฒ! ุณุฌูุช ุทูุจู ููุญุฌุฒ..."
ุงูููุฉ: booking_request (ุซูุฉ: 95%)
```

### ุณุคุงู ูุนูุฏ (LangChain)
```
ุงููุณุชุฎุฏู: "ููู ุชุนูู ุชูููุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนูุ"
ุงููุธุงู: "ุฃุฑู ุฅู ุณุคุงูู ูุญุชุงุฌ ุชูุตูู ุฃูุซุฑ..."
ุงูููุฉ: general_question (ุซูุฉ: 60%)
```

## ๐จ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ
1. **Redis Connection Error**
   ```bash
   docker-compose up redis -d
   ```

2. **API Error**
   ```bash
   # ุชุญูู ูู console logs
   npm run dev
   ```

## ๐ ุงููููุฒุงุช

- **ุณุฑุนุฉ**: ุฑุฏ ููุฑู ููุฑุณุงุฆู ุงูุจุณูุทุฉ
- **ุฐูุงุก**: ุงุณุชุฎุฏุงู LangChain ููุฃุณุฆูุฉ ุงููุนูุฏุฉ
- **ูุฑููุฉ**: ุณูููุฉ ุฅุถุงูุฉ ุฃููุงุท ุฌุฏูุฏุฉ
- **ุฃูุงู**: ุญูุงูุฉ ุดุงููุฉ ูููุฏุฎูุงุช

---

**ููุงุญุธุฉ**: ูุฐุง ุงููุธุงู ูุฌูุน ุจูู ุงูุจุณุงุทุฉ ูุงูุฐูุงุก! ๐
